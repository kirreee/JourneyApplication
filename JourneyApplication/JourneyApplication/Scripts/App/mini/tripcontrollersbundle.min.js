app.controller("TripController",function(n,t,i,r){function e(n){function t(n){console.log(n)}function i(t){var r=new google.maps.Geocoder,i=t.coords,u={lat:parseFloat(i.latitude),lng:parseFloat(i.longitude)};r.geocode({location:u},function(t,i){i===google.maps.GeocoderStatus.OK?t[0]?n(t[0].formatted_address):console.log("No match!"):console.log("Error!")})}navigator.geolocation?navigator.geolocation.getCurrentPosition(i,t):console.log("Your browser does not support Geolocation!, Try antoher.")}var f="",u="/home";r.get("api/activeVehicles").then(function(t){n.vehicles=t.data});e(function(n){f=n});n.GetCurrentPositionForUser=function(){n.errandStartAdress=f};n.postErrand=function(){var t=n.errandStartAdress,f=n.errandDestination,e=n.errandMatter,o=n.errandNote,s=n.errandStartKm,h=n.errandVehicle,c=n.errandDriveDate,l={ErrandId:0,StartAdress:t,Destination:f,Matter:e,Notes:o,StartKm:s,DriveDate:c,VehicleId:h};r.post("/api/errands",l,{headers:{"Content-Type":"application/json"}}).then(function(n){if(n.data==="Error")return alert("Kördatum får inte ha paserat dagens datm, försök igen!");if(n.data==="Warning")return alert("Startkm kan inte vara högre än föregånde resa!");n.data==="Warn"&&i.path(u);console.log("New errand created sucess!");i.path(u)})};n.updateErrand=function(){n.errand=Response.data;i.path(u)};n.goBack=function(){i.path(u)}});app.controller("StopTripController",function(n,t,i,r,u){var f="/home";r.get("api/errands/"+t.id).then(function(t){n.errand=t.data;n.errand<=0&&console.log("Något gick fel");console.log("Get errand with specific id: Succes!")});n.updateErrand=function(t){r.put("api/errands/"+t.Id,t).then(function(t){n.errand=t.data;console.log("Update errand success!");i.path(f)})};n.abort=function(n){u.goBackHistory(n)}});